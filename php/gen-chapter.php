<?php
$chs = [
    'Genesis'        => ['name' => '创 世 记'            , 'count' => 50 ],
    'Exodus'         => ['name' => '出 埃 及 记'         , 'count' => 40 ],
    'Leviticus'      => ['name' => '利 未 记'            , 'count' => 27 ],
    'Numbers'        => ['name' => '民 数 记'            , 'count' => 36 ],
    'Deuteronomy'    => ['name' => '申 命 记'            , 'count' => 34 ],
    'Joshua'         => ['name' => '约 书 亚 记'         , 'count' => 24 ],
    'Judges'         => ['name' => '士 师 记'            , 'count' => 21 ],
    'Ruth'           => ['name' => '路 得 记'            , 'count' => 4  ],
    'Samuel1'        => ['name' => '撒 母 耳 记 上'      , 'count' => 31 ],
    'Samuel2'        => ['name' => '撒 母 耳 记 下'      , 'count' => 24 ],
    'Kings1'         => ['name' => '列 王 纪 上'         , 'count' => 22 ],
    'Kings2'         => ['name' => '列 王 纪 下'         , 'count' => 25 ],
    'Chronicles1'    => ['name' => '历 代 志 上'         , 'count' => 29 ],
    'Chronicles2'    => ['name' => '历 代 志 下'         , 'count' => 36 ],
    'Ezra'           => ['name' => '以 斯 拉 记'         , 'count' => 10 ],
    'Nehemiah'       => ['name' => '尼 希 米 记'         , 'count' => 13 ],
    'Esther'         => ['name' => '以 斯 帖 记'         , 'count' => 10 ],
    'Job'            => ['name' => '约 伯 记'            , 'count' => 42 ],
    'Psalms'         => ['name' => '诗 篇'               , 'count' => 150],
    'Proverbs'       => ['name' => '箴 言'               , 'count' => 31 ],
    'Ecclesiastes'   => ['name' => '传 道 书'            , 'count' => 12 ],
    'SongOfSongs'    => ['name' => '雅 歌'               , 'count' => 8  ],
    'Isaiah'         => ['name' => '以 赛 亚 书'         , 'count' => 66 ],
    'Jeremiah'       => ['name' => '耶 利 米 书'         , 'count' => 52 ],
    'Lamentations'   => ['name' => '耶 利 米 哀 歌'      , 'count' => 5  ],
    'Ezekiel'        => ['name' => '以 西 结 书'         , 'count' => 48 ],
    'Daniel'         => ['name' => '但 以 理 书'         , 'count' => 12 ],
    'Hosea'          => ['name' => '何 西 阿 书'         , 'count' => 14 ],
    'Joel'           => ['name' => '约 珥 书'            , 'count' => 3  ],
    'Amos'           => ['name' => '阿 摩 司 书'         , 'count' => 9  ],
    'Obadiah'        => ['name' => '俄 巴 底 亚 书'      , 'count' => 1  ],
    'Jonah'          => ['name' => '约 拿 书'            , 'count' => 4  ],
    'Micah'          => ['name' => '弥 迦 书'            , 'count' => 7  ],
    'Nahum'          => ['name' => '那 鸿 书'            , 'count' => 3  ],
    'Habakkuk'       => ['name' => '哈 巴 谷 书'         , 'count' => 3  ],
    'Zephaniah'      => ['name' => '西 番 雅 书'         , 'count' => 3  ],
    'Haggai'         => ['name' => '哈 该 书'            , 'count' => 2  ],
    'Zechariah'      => ['name' => '撒 迦 利 亚 书'      , 'count' => 14 ],
    'Malachi'        => ['name' => '玛 拉 基 书'         , 'count' => 4  ],
    'Matthew'        => ['name' => '马 太 福 音'         , 'count' => 28 ],
    'Mark'           => ['name' => '马 可 福 音'         , 'count' => 16 ],
    'Luke'           => ['name' => '路 加 福 音'         , 'count' => 24 ],
    'John'           => ['name' => '约 翰 福 音'         , 'count' => 21 ],
    'Acts'           => ['name' => '使 徒 行 传'         , 'count' => 28 ],
    'Romans'         => ['name' => '罗 马 书'            , 'count' => 16 ],
    'Corinthians1'   => ['name' => '哥 林 多 前 书'      , 'count' => 16 ],
    'Corinthians2'   => ['name' => '哥 林 多 后 书'      , 'count' => 13 ],
    'Galatians'      => ['name' => '加 拉 太 书'         , 'count' => 6  ],
    'Ephesians'      => ['name' => '以 弗 所 书'         , 'count' => 6  ],
    'Philippians'    => ['name' => '腓 立 比 书'         , 'count' => 4  ],
    'Colossians'     => ['name' => '歌 罗 西 书'         , 'count' => 4  ],
    'Thessalonians1' => ['name' => '帖 撒 罗 尼 迦 前 书', 'count' => 5  ],
    'Thessalonians2' => ['name' => '帖 撒 罗 尼 迦 后 书', 'count' => 3  ],
    'Timothy1'       => ['name' => '提 摩 太 前 书'      , 'count' => 6  ],
    'Timothy2'       => ['name' => '提 摩 太 后 书'      , 'count' => 4  ],
    'Titus'          => ['name' => '提 多 书'            , 'count' => 3  ],
    'Philemon'       => ['name' => '腓 利 门 书'         , 'count' => 1  ],
    'Hebrews'        => ['name' => '希 伯 来 书'         , 'count' => 13 ],
    'James'          => ['name' => '雅 各 书'            , 'count' => 5  ],
    'Peter1'         => ['name' => '彼 得 前 书'         , 'count' => 5  ],
    'Peter2'         => ['name' => '彼 得 后 书'         , 'count' => 3  ],
    'John1'          => ['name' => '约 翰 一 书'         , 'count' => 5  ],
    'John2'          => ['name' => '约 翰 二 书'         , 'count' => 1  ],
    'John3'          => ['name' => '约 翰 三 书'         , 'count' => 1  ],
    'Jude'           => ['name' => '犹 大 书'            , 'count' => 1  ],
    'Revelations'    => ['name' => '启 示 录'            , 'count' => 22 ],
];

include_once('template.php');
$options = [
    'top_path' => '../',
];
$options['HeadFoot'] = <<<EOF
<link rel="stylesheet" href="../css/pure-min.css">
<link rel='stylesheet' href='../css/my.css'>
EOF;
$options['BodyFoot'] = '<script src="../js/my.js"></script>';
foreach ($chs as $key => $obj) {
	$name = $obj['name'];
	$options['BodyMain'] = <<<EOF
    <div class="my-content">
        <table class="pure-table pure-table-bordered my-table">
            <thead>
                <tr class="my-tr">
                    <th colspan="5" class="selected">
                        <a class="my-back home" href="/">首页</a>
                        <strong class="bible-title">{$name}</strong>
                        <a class="my-back" href="/">返回</a>
                    </th>
                </tr>
            </thead>
            <tbody class="chapter">
                <tr class="my-tr">
EOF;
	for ($i=1; $i <= $obj['count']; $i++) { 
        $options['BodyMain'] .= <<<EOF

                    <td onclick="window.location.href='../content/{$key}/{$key}_{$i}.html';"><strong>{$i}</strong></td>
EOF;
        if ((0 == $i % 5) and $i >= 5) {
            $options['BodyMain'] .= <<<EOF

                </tr>
                <tr class="my-tr">
EOF;
        }
	}
    $rest = 5 - ($obj['count'] % 5);
    if ($rest < 5) { // 补全空的
        for ($i=1; $i <= $rest; $i++) { 
            $options['BodyMain'] .= <<<EOF

                    <td></td>
EOF;
        }
    }
	$options['BodyMain'] .= <<<EOF

                </tr>
            </tbody>
            <thead class='foot'>
                <tr class="my-tr">
                    <th colspan="5" class="selected">
                        <a class="my-back home" href="/">首页</a>
                        <strong class="bible-title">{$name}</strong>
                        <a class="my-back" href="/">返回</a>
                    </th>
                </tr>
            </thead>
        </table>
    </div>
EOF;
	file_put_contents("../chapter/{$key}.html", gen_html($options));
}
echo "success\n";
die;
